<div class="container">
    <div class="row">
        <div class="col-sm">
            <select [(ngModel)]="selectedMarca" (change)="getModelosByMarca()">
                <option disabled>Selecione uma marca</option>
                <option *ngFor="let marca of marcas; let i = index" value="{{marca.ID}}">{{marca.Name}}</option>
            </select>
        </div>

        <div class="col-sm">
            <select *ngIf="selectedMarca" [(ngModel)]="selectedModelo" (change)="getVersoesByModelo()">
                <option disabled>Selecione um modelo</option>
                <option *ngFor="let modelo of modelos; let i = index" value="{{modelo.ID}}">{{modelo.Name}}</option>
            </select>
            <select disabled *ngIf="!selectedMarca">
                <option disabled>Selecione um modelo</option>
            </select>
        </div>

        <div class="col-sm">
            <select *ngIf="selectedModelo" [(ngModel)]="selectedVersao">
                <option disabled>Selecione uma versão</option>
                <option *ngFor="let versao of versoes; let i = index" value="{{versao.ID}}">{{versao.Name}}</option>
            </select>
            <select disabled *ngIf="!selectedModelo">
                <option disabled>Selecione uma versão</option>
            </select>
        </div>

        <div class="col-sm">
            <button class="btn btn-outline-primary" (click)="AddCarro()">Adicionar</button>
        </div>
    </div>
</div>


<div class="mat-elevation-z8 table-size">
    <table mat-table [dataSource]="dataSource">

        <ng-container matColumnDef="Marca">
            <th mat-header-cell *matHeaderCellDef> Marca </th>
            <td mat-cell *matCellDef="let element"> {{element.marca}} </td>
        </ng-container>

        <ng-container matColumnDef="Modelo">
            <th mat-header-cell *matHeaderCellDef> Modelo </th>
            <td mat-cell *matCellDef="let element"> {{element.modelo}} </td>
        </ng-container>

        <ng-container matColumnDef="Versao">
            <th mat-header-cell *matHeaderCellDef> Versao </th>
            <td mat-cell *matCellDef="let element"> {{element.versao}} </td>
        </ng-container>

        <ng-container matColumnDef="Ano">
            <th mat-header-cell *matHeaderCellDef> Ano </th>
            <td mat-cell *matCellDef="let element"> {{element.ano}} </td>
        </ng-container>

        <ng-container matColumnDef="Quilometragem">
            <th mat-header-cell *matHeaderCellDef> Quilometragem </th>
            <td mat-cell *matCellDef="let element"> {{element.quilometragem}} </td>
        </ng-container>

        <ng-container matColumnDef="Observacao">
            <th mat-header-cell *matHeaderCellDef> Obs </th>
            <td mat-cell *matCellDef="let element"> {{element.observacao}} </td>
        </ng-container>

        <ng-container matColumnDef="btn-primary">
            <th mat-header-cell *matHeaderCellDef> </th>
            <td mat-cell *matCellDef="let element">
                <button type="button" class="btn btn-outline-success btn-sm"
                    (click)="changeCarro(element)">Alterar</button>
            </td>
        </ng-container>

        <ng-container matColumnDef="btn-danger">
            <th mat-header-cell *matHeaderCellDef> </th>
            <td mat-cell *matCellDef="let element">
                <button type="button" class="btn btn-outline-danger btn-sm"
                    (click)="deleteCarro(element.id)">Remover</button>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

    <mat-paginator [pageSizeOptions]="[5, 10, 20]" [pageSize]="10" showFirstLastButtons></mat-paginator>
</div>